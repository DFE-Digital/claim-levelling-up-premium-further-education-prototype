{% extends "layouts/main.html" %}


{% set pageName = claim.claimantName %}


{% set serviceNavId = "allClaims" %}

{% set actionUrl = "/provider/type-of-contract/" + claim.id %}
{% if returnUrl %}
  {% set actionUrl = actionUrl + "?returnUrl=" + returnUrl %}
{% endif %}

{# {% if claim.status == 'Not started' %} #}
  {% block beforeContent %}
    {{ govukBackLink({
      text: "Back",
      href: "javascript:window.history.back()"
    }) }}
  {% endblock %}
{# {% endif %} #}

{% block content %}
<div class="govuk-grid-row">
  {# <div class="govuk-grid-column-full"> #}
    <div class="govuk-grid-column-three-quarters">

      {% if errors %}
        {{ govukErrorSummary({
          titleText: "There is a problem", 
          errorList: errors
        }) }}
      {% endif %}
      
      
     <span class="govuk-caption-l">
        Review claim - {{ claim.claimReference }}
        <strong class="govuk-tag govuk-!-font-size-19 {{ claim.status | statusColour }}">
          {{ claim.status }}
        </strong>
      </span>  
      <h1 class="govuk-heading-l">{{pageName}}</h1>

      {{ data.user | log }}
      {{ data.claims | log }}

      {% include "_includes/claim/details-collapsible.njk" %}

    
      <form method="post" action="{{ actionUrl }}">

      <input type="hidden" name="returnUrl" value="{{ returnUrl }}">        

      <h2 class="govuk-heading-m">Type of contract</h2>

      {# ////////////////////////////////////////////////#}
      
  {{ govukRadios({
      name: "contractType",
      value: contractType,
      fieldset: {
        legend: {
          text: "What type of contract does " + claim.claimantName + " have directly with " + claim.feProvider + " ?",
          classes: "govuk-fieldset__legend--s"
        }
      },
      items: [
        {
          value: "Permanent",
          text: "Permanent"
        },
        {
          value: "Fixed-term",
          text: "Fixed-term"
        },
        {
          value: "Variable hours",
          text: "Variable hours"
        },
        {
          value: "Employed by another organisation",
          text: "Does not currently have a direct contract of employment with " + claim.feProvider,
          hint: {
            text: "For example, they have left " + claim.feProvider + " or they are employed through an agency, as a contractor, or through a subsidiary of " + claim.feProvider + "."
          }
        }
      ]
    }) }}

      
        {# ////////////////////////////////////////////////#}

        
        <div class="govuk-button-group">
          <button type="submit" class="govuk-button" name="action" value="continue">
            Continue
          </button>  
          <button type="submit" class="govuk-button govuk-button--secondary" name="action" value="save">
            Save and come back later
          </button>      
        </div>
    </form>

  </div>
</div>

{% endblock %}
